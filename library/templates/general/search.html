{% extends 'general/layout.html' %}
{% load i18n %} <!-- Cargar el módulo de traducción -->

{% block head_title %}Página Búsqueda{% endblock %}
{% block page_title %}Bienvenido a nuesta página de búsqueda{% endblock %}


{% block page_content %}
    <p>{% trans "Página de búsqueda" %}</p>
    {% comment %} <div>
        <form action="{% url 'search' %}" method="get">
            <label for="q">Introduzca su búsqueda</label>
            <input type="text" name="q" placeholder="Buscar..." value="{% if request.GET %}{{ request.GET.q}}{% endif %}" required>
            <button type="submit">Buscar</button>
        </form>
    </div> {% endcomment %}
    <form action="{% url 'search' %}" method="get">
    {{ formulario.as_p }}
    <button type="submit">{% trans "Buscar" %}</button>
    </form>
    {% if request.GET.q %}
    <div>
        <h3>{% blocktrans %}Resultados de la búsqueda para la búsqueda con {{ request.GET.q }}{% endblocktrans %}</h3>
        <h4>Autores</h4>
        {% if autores %}
        <ul>
            {% for autor in autores %}
                <li>{{ autor }}</li>
            {% endfor %}
        {% else %}
            <li>{% trans "No se encontraron autores" %}</li>
        {% endif %}
        </ul>
        <h4>{% trans "Editoriales" %}</h4>
        {% if editoriales %}
        <ul>
            {% for editorial in editoriales %}
                <li>{{ editorial }}</li>
            {% endfor %}
        {% else %}
            <li>{% trans "No se encontraron editoriales" %}</li>
        {% endif %}
        </ul>
        <h4>{% trans "Libros" %}</h4>
        {% if libros %}
        <ul>
            {% for libro in libros %}
                <li>{{ libro }}</li>
            {% endfor %}
        </ul>
        {% else %}
            <li>{% trans "No se encontraron libros" %}</li>
        {% endif %}
    </div>
    {% endif %}
{% endblock %}